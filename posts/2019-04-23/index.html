<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="https://fonts.googleapis.com/css?family=Ubuntu" rel="stylesheet">

        <title>日毎に文字列を追加する</title>

        <link rel="stylesheet" href="/css/stylesheet.css">
    </head>
    <body>
		<div class="back">
	<div id="elbody">
<a href="/"></a>
	<div id="face"></div>
<a href="/"></a>
  <div id="feet"></div>
	</div>
		</div>
<div class="hidden_box">
    <label for="label1">
			<div class="circular">
<div class="circular-sb">
...
  <div class="circle3"></div>
  <div class="circle4"></div>
</div>
		</label>
</div>	
    <input type="checkbox" id="label1"/>
    <div class="hidden_show">
           
			
		<ul>
<li>いつも読み間違えるCynghanned[kəŋˈhænɛð]。カングハネズ。ウェールズ（gallois）の古典韻律規則だが、これも油断するとガリア（gaulois）と混同してしまう。 <span class=timestamp>2019-04-24 17:19:32</span></li>
<li>ポール・ギャルドの『アクセント』という本の改訂版（2013年）を入手。フランス現代詩は韻律学よりもアクセントに注目した方がリズムがわかりやすい。 <span class=timestamp>2019-04-24 14:58:17</span></li>
<li>この象のアイコンはCodepenのCSSから借りてきたのですが、Codepenで&rdquo;elephant&rdquo;と検索したら大量に出てきて、皆象が好きなんだなぁと思いました。 <span class=timestamp>2019-04-24 14:22:46</span></li>
</ul>

		
    </div>
</div>



<section class="blog-post">
    <h1>日毎に文字列を追加する</h1>
    <div class="blog-post-subheader">
        April 23, 2019
    </div>

    <div class="blog-post-content">
        

<p>文字列をひたすら追加するだけのプログラムを作り、まとめてその日の分の日記にしてみます。</p>

<ul>
<li><p>使うもの</p>

<ul>
<li>yad（GUIダイアログ）</li>
</ul></li>

<li><p>実際の手順</p>

<ol>
<li>yadを呼び出す</li>
<li>文字列を入力</li>
<li>ファイル（ex. 2019-04-24.md）を作成</li>
<li>日付が変わるまで、3.に新しい文字列が追加され続けます。</li>
</ol></li>
</ul>

<h4 id="やり方">やり方</h4>

<p>シェルスクリプト<code>noteyad</code>を作ります。yadのオプションは色々あるので<a href="https://sourceforge.net/p/yad-dialog/wiki/Examples/">こちら</a>を参照してください。</p>

<pre><code class="language-sh">#!/bin/sh

NOTES=$(yad --width=1500 --posy=24 --posx=250 --entry --entry-label=&quot;Notes&quot; --no-buttons --close-on-unfocus)
DIR=$HOME/[markdownファイルの格納先]
TODAY=$(date &quot;+%Y-%m-%d&quot;)
TIME=$(date &quot;%H%M%S&quot;)
FILE=$DIR/$TODAY.md

if [ &quot;$NOTES&quot; = &quot;&quot; ]
then
exit 1
elif [ -f $FILE ]
then
	echo $NOTES &gt;&gt; $FILE
else
	TITLE=$(yad --width=1500 --posy=24 --posx=250 --entry --entry-label=&quot;Title&quot; --no-buttons --close-on-unfocus)
	echo &quot;---\ntitle: &quot;$TITLE&quot;\ndate: $TODAY\n---\n&quot; &gt; $FILE
	echo $NOTES &gt;&gt; $FILE
fi
</code></pre>

<p>あとは完成した<code>noteyad</code>を<code>$HOME/.bin/</code>などパスの通ったディレクトリに置いて、<code>chmod +x</code>で権限を変更。</p>

<p>中身は単純で、今日分のファイルがあればそのまま文字を追加し、ファイルがなければ、記事タイトルをYAMLヘッダーに書いてから、文字列を追加します。文字が入力されなければ終わります。</p>

<p>必要に応じて、リスト記載や、文字末尾にタイムスタンプを入れるのも良いかもしれません。</p>

<p>リストの場合は</p>

<pre><code>echo - $NOTES &gt;&gt; $FILE
</code></pre>

<p>に変更し、タイムスタンプは</p>

<pre><code>TIME=$(date &quot;+%H:%M:%S&quot;)

         .
         .
         .
echo $NOTES --- $TIME &gt;&gt; $FILE
</code></pre>

<p>とします。</p>

    </div>
</section>
<div class="modal_wrap">
<input id="trigger" type="checkbox">
	<div class="modal_overlay">
		<label for="trigger" class="modal_trigger"></label>
		<div class="modal_content">
			<label for="trigger" class="close_button">✖️</label>
				<p><strong>archidor(@roaming_south)</strong></p>

<p>日々の備忘録をつけるためにはじめました。</p>

<p>ツイッターはついつい長居してしまうので、最近は控えめにしています。</p>

<p>静かなところでひっそりとつぶやいています。</p>

<p>気付いたこと・質問等あれば、遠慮なく<a href="mailto:roamingsouth@gmail.com">こちら</a>までご連絡ください。</p>

<hr />

<ul>
<li>参考サイト

<ul>
<li>GoHugo: <a href="https://gohugo.io/">https://gohugo.io/</a></li>
<li>Theme: <a href="https://github.com/meibenny/elephants.git">https://github.com/meibenny/elephants.git</a></li>
<li>Elephant: <a href="https://codepen.io/monstersaurous/pen/BCnHj">https://codepen.io/monstersaurous/pen/BCnHj</a></li>
<li>Bubbles: <a href="https://codepen.io/cool_lazyboy/pen/mWvBLa">https://codepen.io/cool_lazyboy/pen/mWvBLa</a></li>
<li>Button: <a href="https://codepen.io/Kuzlog/pen/XVOaPN/">https://codepen.io/Kuzlog/pen/XVOaPN/</a></li>
</ul></li>
</ul>

		</div>
	</div>
</div>
<label for="trigger" class="open_button">about this site</label>
<link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
</body>
</html>



